{"version":3,"file":"app.js","sourceRoot":"","sources":["../src/app.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,oDAA4B;AAC5B,kDAA0B;AAC1B,wDAAgC;AAChC,8DAAqC;AACrC,8DAAsC;AAGtC,IAAI,QAAQ,GAAW,KAAK,CAAC;AAE7B,QAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE;IACzB,KAAK,MAAM;QAAE,QAAQ,GAAG,EAAE,CAAC;QAAC,MAAM;IAClC,KAAK,KAAK;QAAE,QAAQ,GAAG,KAAK,CAAC;QAAC,MAAM;IACpC,KAAK,KAAK;QAAE,QAAQ,GAAG,QAAQ,CAAC;QAAC,MAAM;IACvC;QAAS,OAAO,CAAC,GAAG,CAAC,kCAAkC,CAAC,CAAC;QAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAAC,MAAM;CACpF;AAED,MAAM,GAAG,GAAG,iBAAO,EAAE,CAAC;AAEtB,GAAG,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC;AAC1C,GAAG,CAAC,GAAG,CAAC,qBAAW,EAAE,CAAC,CAAC;AACvB,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,MAAM,EAAE;IACjC,GAAG,CAAC,GAAG,CAAC,gBAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;CAC7B;AACD,GAAG,CAAC,GAAG,CAAC,qBAAU,CAAC,IAAI,EAAE,CAAC,CAAC;AAC3B,GAAG,CAAC,GAAG,CAAC,qBAAU,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AACnD,GAAG,CAAC,GAAG,CAAC,eAAK,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;AACpC,GAAG,CAAC,GAAG,CAAC,eAAK,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC;AACnC,GAAG,CAAC,GAAG,CAAC,kBAAQ,CAAC,UAAU,EAAE,CAAC,CAAC;AAE/B,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAC7D,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC/B,CAAC,CAAC,CAAA;AAGF,kBAAe,GAAG,CAAC","sourcesContent":["import express from 'express';\r\nimport logger from 'morgan';\r\nimport lusca from 'lusca';\r\nimport passport from 'passport';\r\nimport bodyParser from 'body-parser';\r\nimport compression from 'compression';\r\nimport { Request, Response, NextFunction } from 'express-serve-static-core';\r\n\r\nlet logLevel: string = 'dev';\r\n\r\nswitch(process.env.NODE_ENV) {\r\n    case 'test': logLevel = ''; break;\r\n    case 'dev': logLevel = 'dev'; break;\r\n    case 'prd': logLevel = 'common'; break;\r\n    default: console.log('No environement specified - exit'); process.exit(1); break;\r\n}\r\n\r\nconst app = express();\r\n\r\napp.set('port', process.env.PORT || 3000);\r\napp.use(compression());\r\nif (process.env.NODE_ENV !== 'test') {\r\n    app.use(logger(logLevel));\r\n}\r\napp.use(bodyParser.json());\r\napp.use(bodyParser.urlencoded({ extended: true }));\r\napp.use(lusca.xframe('SAMEORIGIN'));\r\napp.use(lusca.xssProtection(true));\r\napp.use(passport.initialize());\r\n\r\napp.get('/', (req: Request, res: Response, next: NextFunction) => {\r\n    res.status(200).send('OK');\r\n})\r\n\r\n\r\nexport default app;"]}